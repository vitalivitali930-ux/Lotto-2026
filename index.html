<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lotto - –î–≤–∏–∂–æ–∫ VCHF v1.8</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { 
            --main-color: #d4af37; 
            --main-gradient: linear-gradient(145deg, #f9e27d, #d4af37);
            --cell-text: #ffffff; /* –®–ê–†–´ –ë–ï–õ–´–ï */
            --hot-color: #ff4500;
            --cold-color: #00ffff;
        }

        body { 
            background: #000 url('Hintergrund.png') no-repeat center center; 
            background-size: cover; color: #fff; 
            font-family: -apple-system, sans-serif; 
            text-align: center; margin: 0; overflow-y: auto; 
        }

        /* –ò–Ω—Ç—Ä–æ */
        #intro-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 20000; display: flex; justify-content: center; align-items: center; }
        .intro-img { position: absolute; width: 85%; opacity: 0; }
        .intro-img.active { animation: pop 0.7s ease-out forwards; }
        @keyframes pop { 0% { transform: scale(0.1); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

        #app-content { display: none; opacity: 0; transition: opacity 1s; padding-top: 15px; }

        /* –ö–æ—à–µ–ª—å–∫–∏ */
        .balance-container { display: flex; gap: 10px; padding: 0 15px 15px; }
        .bal-card { flex: 1; border-radius: 12px; padding: 12px; background: rgba(15, 15, 15, 0.9); border: 1.5px solid #333; opacity: 0.3; transition: 0.3s; }
        .bal-card.active-wallet { opacity: 1; border-color: var(--main-color); background: rgba(212, 175, 55, 0.1); }
        .bal-val { font-size: 20px; font-weight: bold; color: #32CD32; }

        /* –°–µ—Ç–∫–∞ - –®–ê–†–´ */
        .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; padding: 0 15px; max-width: 400px; margin: 0 auto; }
        .cell { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 20px; color: var(--cell-text); cursor: pointer; border-radius: 50%; transition: 0.2s; }
        .cell.selected { background: var(--main-gradient); color: #000 !important; }
        
        .super-grid { display: flex; justify-content: center; gap: 10px; margin-top: 10px; }
        .super-cell { width: 42px; height: 42px; border: 2px solid #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: bold; cursor: pointer; }
        .super-cell.selected { background: var(--main-gradient); color: #000 !important; }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .is-hot { color: var(--hot-color) !important; text-shadow: 0 0 10px var(--hot-color); }
        .is-cold { color: var(--cold-color) !important; text-shadow: 0 0 10px var(--cold-color); }

        .btn-main { width: 85%; padding: 20px; border-radius: 15px; font-size: 18px; background: var(--main-gradient); border: none; font-weight: bold; margin: 30px 0; }
        .theme-toggle { position: fixed; top: 15px; right: 15px; font-size: 26px; z-index: 1001; }
        .lang-panel { display: flex; justify-content: center; gap: 12px; margin-bottom: 15px; }
    </style>
</head>
<body>

<div id="intro-container">
    <img src="Bild1.png" id="i1" class="intro-img">
    <img src="Bild2.png" id="i2" class="intro-img">
    <img src="Bild3.png" id="i3" class="intro-img">
</div>

<div id="app-content">
    <div class="lang-panel">
        <span onclick="setLang('ru')">üá∑üá∫</span><span onclick="setLang('ua')">üá∫üá¶</span><span onclick="setLang('de')">üá©üá™</span><span onclick="setLang('fr')">üá´üá∑</span><span onclick="setLang('it')">üáÆüáπ</span>
    </div>

    <div class="balance-container">
        <div class="bal-card active-wallet" id="card-vchf" onclick="switchCurrency('VCHF')">
            <div style="font-size:10px;">VIRTUAL VCHF</div>
            <div class="bal-val" id="vchf-val">100.00</div>
        </div>
        <div class="bal-card" id="card-chf" onclick="switchCurrency('CHF')">
            <div style="font-size:10px;">REAL CHF</div>
            <div class="bal-val" id="chf-val">0.00</div>
        </div>
    </div>

    <div class="grid" id="main-grid"></div>
    <div class="super-grid" id="s-grid"></div>
    <button class="btn-main" id="main-btn" onclick="runEngine()">BEST√ÑTIGEN</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let selected = [];
    let superNum = null;
    let currentLang = 'de';
    let activeCurrency = 'VCHF';

    // –¢–≤–æ–π —Å–ª–æ–≤–∞—Ä—å —é–º–æ—Ä–∞ (—Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, –≤–µ—Ä–Ω–∏ —Å–≤–æ–π –ø–æ–ª–Ω—ã–π)
    const humorDict = {
        ru: { times: "—Ä–∞–∑", hot: ["–ó–∞–π—á–∏–∫ ‚Äî —á–µ–º–ø–∏–æ–Ω!", "–ñ–µ–ª–µ–∑–Ω—ã–π –§–µ–ª–∏–∫—Å!"], alert: "–ó–∞–ø–æ–ª–Ω–∏ –±–∏–ª–µ—Ç!" },
        de: { times: "Mal", hot: ["Hase ‚Äî Champion!", "Eiserner Felix!"], alert: "Ticket ausf√ºllen!" }
    };

    function switchCurrency(type) {
        activeCurrency = type;
        document.getElementById('card-vchf').classList.toggle('active-wallet', type === 'VCHF');
        document.getElementById('card-chf').classList.toggle('active-wallet', type === 'CHF');
        tg.HapticFeedback.impactOccurred('medium');
    }

    function render() {
        const g = document.getElementById('main-grid');
        g.innerHTML = '';
        for (let i = 1; i <= 42; i++) {
            const c = document.createElement('div');
            c.className = 'cell';
            c.innerText = i;
            c.onclick = () => {
                tg.HapticFeedback.impactOccurred('light');
                if(selected.includes(i)) {
                    selected = selected.filter(n => n !== i);
                    c.classList.remove('selected');
                } else if(selected.length < 6) {
                    selected.push(i);
                    c.classList.add('selected');
                }
            };
            g.appendChild(c);
        }

        const sg = document.getElementById('s-grid');
        sg.innerHTML = '';
        for (let i = 1; i <= 6; i++) {
            const sc = document.createElement('div');
            sc.className = 'super-cell';
            sc.innerText = i;
            sc.onclick = () => {
                tg.HapticFeedback.impactOccurred('medium');
                document.querySelectorAll('.super-cell').forEach(x => x.classList.remove('selected'));
                superNum = i;
                sc.classList.add('selected');
            };
            sg.appendChild(sc);
        }
    }

    window.onload = () => {
        setTimeout(() => document.getElementById('i1').classList.add('active'), 500);
        setTimeout(() => document.getElementById('i1').classList.remove('active'), 2500);
        setTimeout(() => document.getElementById('i2').classList.add('active'), 2700);
        setTimeout(() => document.getElementById('i2').classList.remove('active'), 4700);
        setTimeout(() => {
            document.getElementById('intro-container').style.display='none';
            document.getElementById('app-content').style.display='block';
            setTimeout(() => document.getElementById('app-content').style.opacity='1', 50);
            render();
        }, 5000);
    };

    function runEngine() {
        if (selected.length < 6 || !superNum) { tg.showAlert("Error!"); return; }
        tg.HapticFeedback.notificationOccurred('success');
        tg.showAlert("–§–∏–∫—Å–∏—Ä—É—é —Ç–∏—Ä–∞–∂!");
    }
</script>
</body>
</html>
