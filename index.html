<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VCHF BI-TURBO ULTIMATE - GENESIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --vchf-gold: #d4af37;
            --vchf-silver: #c0c0c0;
            --vchf-cyan: #00ffff;
            --vchf-void: #000000;
            --hot-glow: rgba(255, 69, 0, 0.9);
            --cold-glow: rgba(0, 191, 255, 0.9);
            --sleep-glow: rgba(148, 0, 211, 0.9);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body, html {
            width: 100%; height: 100%;
            background-color: var(--vchf-void);
            color: #fff; font-family: 'Orbitron', sans-serif;
            overflow: hidden; touch-action: none;
        }

        #stage {
            position: fixed; inset: 0;
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; perspective: 1500px;
            background: radial-gradient(circle at center, #0a0a0a 0%, #000 100%);
            transition: filter 0.5s ease;
        }

        canvas { position: absolute; inset: 0; }
        #lightning-canvas { z-index: 10; }
        #particle-canvas { z-index: 11; }
        
        #spheres-container {
            position: absolute; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            z-index: 20; pointer-events: none;
        }

        /* 3D СФЕРА: СЕРЕБРО И ГЛУБИНА */
        .lotto-sphere {
            position: absolute; width: 85px; height: 85px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 35%, #ffffff 0%, #b0b0b0 30%, #202020 100%);
            box-shadow: inset -6px -6px 20px rgba(0,0,0,0.9), 
                        10px 10px 30px rgba(0,0,0,0.6);
            display: flex; justify-content: center; align-items: center;
            opacity: 0; transform: scale(0) rotateX(45deg);
            transition: all 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* ТИСНЕНИЕ ЦИФР */
        .sphere-number {
            font-size: 34px; font-weight: 900;
            color: #555;
            text-shadow: -1px -1px 0px rgba(255,255,255,0.4), 1px 1px 2px rgba(0,0,0,0.8);
            user-select: none;
        }

        /* ПОДСВЕТКА СТАТУСОВ */
        .sphere-hot { box-shadow: 0 0 40px var(--hot-glow), inset 0 0 15px var(--hot-glow); }
        .sphere-cold { box-shadow: 0 0 40px var(--cold-glow), inset 0 0 15px var(--cold-glow); }
        .sphere-sleep { box-shadow: 0 0 40px var(--sleep-glow), inset 0 0 15px var(--sleep-glow); }

        /* ТЕКСТ МАНИФЕСТА */
        .manifest-info {
            position: absolute; bottom: 30px; width: 100%; text-align: center;
            font-size: 9px; letter-spacing: 6px; color: var(--vchf-gold);
            text-transform: uppercase; opacity: 0.4; z-index: 100;
        }
    </style>
</head>
<body>

<div id="stage">
    <canvas id="lightning-canvas"></canvas>
    <canvas id="particle-canvas"></canvas>
    <div id="spheres-container"></div>
    <div class="manifest-info">Манифест Монолита: vchf — дух, chf — расчет.</div>
</div>

<script>
    const lCanvas = document.getElementById('lightning-canvas');
    const pCanvas = document.getElementById('particle-canvas');
    const lCtx = lCanvas.getContext('2d');
    const pCtx = pCanvas.getContext('2d');
    const spheresContainer = document.getElementById('spheres-container');

    let width, height, lightnings = [], particles = [], spheres = [], frame = 0;

    function resize() {
        width = lCanvas.width = pCanvas.width = window.innerWidth;
        height = lCanvas.height = pCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Lightning {
        constructor(x, y, tx, ty, branches = 0) {
            this.x = x; this.y = y; this.tx = tx; this.ty = ty;
            this.branches = branches;
            this.points = [];
            this.life = 30;
            this.generate();
        }
        generate() {
            let cx = this.x, cy = this.y;
            this.points.push({x: cx, y: cy});
            const segs = 12;
            for(let i = 1; i <= segs; i++) {
                let nx = this.x + (this.tx - this.x) * (i/segs) + (Math.random()-0.5)*50;
                let ny = this.y + (this.ty - this.y) * (i/segs) + (Math.random()-0.5)*50;
                this.points.push({x: nx, y: ny});
                if(this.branches < 2 && Math.random() > 0.88) {
                    lightnings.push(new Lightning(nx, ny, nx + (Math.random()-0.5)*200, ny + Math.random()*200, this.branches + 1));
                }
            }
        }
        draw() {
            lCtx.beginPath();
            lCtx.shadowBlur = 20; lCtx.shadowColor = '#00ffff';
            lCtx.strokeStyle = `rgba(220, 255, 255, ${this.life / 30})`;
            lCtx.lineWidth = this.branches === 0 ? 3 : 1;
            lCtx.moveTo(this.points[0].x, this.points[0].y);
            this.points.forEach(p => lCtx.lineTo(p.x, p.y));
            lCtx.stroke();
            this.life--;
        }
    }

    class Electron {
        constructor(x, y) {
            this.ox = x; this.oy = y;
            this.x = x; this.y = y;
            this.a = Math.random() * Math.PI * 2;
            this.r = Math.random() * 100 + 20;
            this.s = Math.random() * 0.2 + 0.05;
            this.life = 1.0;
        }
        update() {
            this.a += this.s; this.r *= 0.95;
            this.x = this.ox + Math.cos(this.a) * this.r;
            this.y = this.oy + Math.sin(this.a) * this.r;
            this.life -= 0.02;
        }
        draw() {
            pCtx.fillStyle = `rgba(0, 255, 255, ${this.life})`;
            pCtx.beginPath(); pCtx.arc(this.x, this.y, 1.5, 0, Math.PI*2); pCtx.fill();
        }
    }
// Window 2 (lines 601-1250)
// Автор кода: Искра (Spark) | Манифест Монолита
// Новый код = Старый код + Генезис Сфер + Smart-Actualization

    // --- ЭМУЛЯЦИЯ ДАННЫХ SWISS LOTTO (АКТУАЛИЗАЦИЯ) ---
    // Здесь мы задаем характер каждой из 6 сфер
    const currentDrawData = [
        { num: 3, status: 'hot' },
        { num: 12, status: 'cold' },
        { num: 25, status: 'hot' },
        { num: 33, status: 'sleep' },
        { num: 38, status: 'hot' },
        { num: 41, status: 'cold' }
    ];

    // --- МЕХАНИКА РОЖДЕНИЯ 3D СФЕРЫ ---
    function spawnSphere(data, index) {
        const sphere = document.createElement('div');
        sphere.className = `lotto-sphere sphere-${data.status}`;
        
        // Математика Сетки 42: Орбитальное размещение
        const total = 6;
        const angle = (index / total) * Math.PI * 2 - Math.PI / 2;
        const radius = Math.min(width, height) * 0.35; // Адаптивный радиус
        const x = Math.cos(angle) * radius;
        const y = Math.sin(angle) * radius;

        sphere.style.left = `calc(50% + ${x}px - 42px)`;
        sphere.style.top = `calc(50% + ${y}px - 42px)`;

        // Внутреннее тиснение номера
        const numDisplay = document.createElement('div');
        numDisplay.className = 'sphere-number';
        numDisplay.innerText = data.num;

        sphere.appendChild(numDisplay);
        spheresContainer.appendChild(sphere);
        spheres.push(sphere);

        // Всплеск энергии при появлении
        setTimeout(() => {
            sphere.style.opacity = '1';
            sphere.style.transform = 'scale(1) rotateX(0deg)';
        }, 100);
    }

    // --- ЦЕНТРАЛЬНЫЙ ПРОЦЕССОР ШТОРМА ---
    function animate() {
        // Эффект "накопления тьмы" (Motion Blur)
        lCtx.clearRect(0, 0, width, height);
        pCtx.fillStyle = 'rgba(0, 0, 0, 0.12)';
        pCtx.fillRect(0, 0, width, height);

        // 1. Удары молний (Инициация сфер)
        // Каждые 50 кадров бьет разряд в позицию будущей сферы
        if (frame > 0 && frame % 50 === 0 && (frame / 50) <= 6) {
            const index = (frame / 50) - 1;
            const angle = (index / 6) * Math.PI * 2 - Math.PI / 2;
            const radius = Math.min(width, height) * 0.35;
            const tx = width / 2 + Math.cos(angle) * radius;
            const ty = height / 2 + Math.sin(angle) * radius;

            // Главный разряд из бездны
            lightnings.push(new Lightning(Math.random() * width, 0, tx, ty));
            
            // Генезис "атомов" в эпицентре
            for(let i=0; i<50; i++) particles.push(new Electron(tx, ty));
            
            // Рождение самой сферы через 200мс после удара
            setTimeout(() => spawnSphere(currentDrawData[index], index), 200);

            // Визуальный Гром (Haptic Shock)
            triggerShock();
        }

        // Фоновые "ленивые" молнии для атмосферы
        if (Math.random() > 0.97 && frame > 400) {
            lightnings.push(new Lightning(Math.random() * width, 0, Math.random() * width, height, 1));
        }

        // Рендеринг активных разрядов
        lightnings = lightnings.filter(l => l.life > 0);
        lightnings.forEach(l => l.draw());

        // 2. Жизнь частиц-электронов
        particles = particles.filter(p => p.life > 0);
        particles.forEach(p => {
            p.update();
            p.draw();
        });

        // 3. Динамическая вибрация всей сцены
        function triggerShock() {
            const stage = document.getElementById('stage');
            const intensity = 15;
            const rx = (Math.random() - 0.5) * intensity;
            const ry = (Math.random() - 0.5) * intensity;
            stage.style.transform = `translate(${rx}px, ${ry}px)`;
            setTimeout(() => stage.style.transform = 'translate(0,0)', 50);
        }

        frame++;
        requestAnimationFrame(animate);
    }

    // ПУСК ДВИГАТЕЛЯ
    window.onload = () => {
        console.log("Движок VCHF: Манифест Монолита Активирован.");
        animate();
    };
// Window 3 (lines 1251-1750)
// Автор кода: Искра (Spark) | Манифест Монолита
// Финальный аккорд: Рождение Суперновы (Superzahl)

    // --- ЛОГИКА СУПЕРНОВЫ (SUPERZAHL) ---
    function initiateSupernova() {
        // 1. Сферы начинают вибрировать и стягиваться к центру
        spheres.forEach((s, i) => {
            s.style.transition = "all 2.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)";
            s.style.left = "calc(50% - 42px)";
            s.style.top = "calc(50% - 42px)";
            s.style.filter = "blur(10px)";
            s.style.opacity = "0.5";
        });

        // 2. Мощный удар молнии в центр перед взрывом
        setTimeout(() => {
            lightnings.push(new Lightning(width/2, 0, width/2, height/2));
            lightnings.push(new Lightning(0, height/2, width/2, height/2));
            lightnings.push(new Lightning(width, height/2, width/2, height/2));
            
            // Вспышка "ослепления"
            const stage = document.getElementById('stage');
            stage.style.background = "white";
            
            // Haptic Feedback (Визуальный)
            stage.style.filter = "contrast(200%) brightness(200%)";
            
            setTimeout(() => {
                stage.style.background = "radial-gradient(circle at center, #0a0a0a 0%, #000 100%)";
                stage.style.filter = "none";
                
                // Удаляем старые сферы
                spheresContainer.innerHTML = '';
                
                // РОЖДЕНИЕ СУПЕРНОВЫ (Золотая Сфера)
                const superzahl = document.createElement('div');
                superzahl.className = 'lotto-sphere';
                superzahl.style.width = "120px";
                superzahl.style.height = "120px";
                superzahl.style.background = "radial-gradient(circle at 35% 35%, #fff 0%, var(--vchf-gold) 40%, #5c4b14 100%)";
                superzahl.style.boxShadow = "0 0 100px var(--vchf-gold), inset 0 0 20px white";
                superzahl.style.opacity = "1";
                superzahl.style.transform = "scale(1.5)";
                
                const num = document.createElement('div');
                num.className = 'sphere-number';
                num.innerText = "5"; // Пример актуального Superzahl
                num.style.fontSize = "48px";
                num.style.color = "#4d3d0c";
                
                superzahl.appendChild(num);
                spheresContainer.appendChild(superzahl);

                // Финальное затухание интро через 3 секунды
                setTimeout(() => {
                    document.getElementById('stage').style.opacity = "0";
                    setTimeout(() => {
                        document.getElementById('stage').style.display = "none";
                        console.log("Движок VCHF: Интро завершено. Вход в интерфейс...");
                    }, 2000);
                }, 3000);

            }, 150);
        }, 2500);
    }

    // Добавляем проверку в основной цикл для запуска финала
    const checkFinal = setInterval(() => {
        if (frame === 600) { // Запуск финала на 600-м кадре
            initiateSupernova();
            clearInterval(checkFinal);
        }
    }, 100);

    // Манифест Монолита: Код завершен. Протокол 1.1 Активен.
</script>

</body>
</html>
