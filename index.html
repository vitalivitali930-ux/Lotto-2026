<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Helvetia Lucky | VCHF Engine</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --swiss-red: #e30a17;
            --deep-black: #050505;
            --velvet-green: #072a1a;
        }
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; font-family: 'Orbitron', sans-serif; }

        /* –ò–ù–¢–†–û (–¢–í–û–Ø –ì–û–†–î–û–°–¢–¨) */
        #brand-layer {
            position: fixed; inset: 0; background: var(--deep-black); z-index: 1000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: 1s ease-in-out;
        }
        .door-left, .door-right {
            position: absolute; top: 0; width: 50%; height: 100%; background: #0a0a0a;
            border: 1px solid rgba(212, 175, 55, 0.1); transition: 1.5s cubic-bezier(0.7, 0, 0.3, 1);
            z-index: 1100;
        }
        .door-left { left: 0; border-right: 2px solid var(--gold); }
        .door-right { right: 0; border-left: 2px solid var(--gold); }
        
        .opened .door-left { transform: translateX(-100%); }
        .opened .door-right { transform: translateX(100%); }
        .opened .logo-container { opacity: 0; filter: blur(10px); }

        .logo-container { transition: 1s; z-index: 1200; text-align: center; }
        .swiss-shield {
            width: 60px; height: 60px; background: var(--swiss-red);
            margin: 0 auto 20px; position: relative; border-radius: 8px;
            box-shadow: 0 0 40px rgba(227, 10, 23, 0.6);
        }
        .swiss-shield::after { content: ''; position: absolute; background: white; width: 12px; height: 36px; left: 24px; top: 12px; }
        .swiss-shield::before { content: ''; position: absolute; background: white; width: 36px; height: 12px; left: 12px; top: 24px; }
        h1.brand-name { color: var(--gold); font-size: 26px; letter-spacing: 6px; margin: 0; }

        /* –°–ò–ú–ú–ï–¢–†–ò–ß–ù–´–ï –ö–ù–û–ü–ö–ò (–ò–ó –í–ò–î–ï–û) */
        .lang-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 40px;
            width: 90%; max-width: 400px;
        }
        .lang-btn {
            background: rgba(0,0,0,0.6); border: 1px solid rgba(212,175,55,0.3);
            color: #ccc; padding: 12px; border-radius: 4px; font-size: 10px;
            display: flex; align-items: center; gap: 10px; cursor: pointer;
            transition: 0.3s;
        }
        .lang-btn:active { border-color: var(--gold); color: #fff; }

        /* –°–¢–û–õ (–¢–û, –ß–¢–û –ú–´ –û–¢–ö–†–´–í–ê–ï–ú) */
        #game-room {
            position: fixed; inset: 0; display: none; opacity: 0;
            background: radial-gradient(circle at 50% 20%, rgba(212,175,55,0.1) 0%, #000 90%);
            z-index: 500;
        }
        #velvet-table {
            position: absolute; bottom: -25%; left: 50%; transform: translateX(-50%);
            width: 160%; height: 85%; background: var(--velvet-green);
            border-radius: 50% / 35%; border: 20px solid #111;
            box-shadow: inset 0 0 250px #000, 0 50px 100px #000;
            background-image: url("https://www.transparenttextures.com/patterns/dark-leather.png");
        }
        .table-light {
            position: absolute; top: -100px; left: 50%; transform: translateX(-50%);
            width: 600px; height: 200px; background: rgba(255,255,255,0.02);
            filter: blur(100px); pointer-events: none;
        }
        .card-monolith {
            position: absolute; width: 70px; height: 105px;
            background: linear-gradient(135deg, #222, #000);
            border: 1px solid #333; border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.7);
            transition: all 3.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .deck-stacked {
            top: 40% !important; left: 15% !important; transform: rotate(-2deg) !important;
            box-shadow: -2px 2px 0 #333, -8px 8px 30px #000 !important;
        }
    </style>
</head>
<body>

<div id="brand-layer">
    <div class="door-left"></div>
    <div class="door-right"></div>
    <div class="logo-container">
        <div class="swiss-shield"></div>
        <h1 class="brand-name">HELVETIA LUCKY</h1>
        <div class="lang-grid">
            <div class="lang-btn" onclick="openSafe()">üá∑üá∫ RU: –í–û–ô–¢–ò</div>
            <div class="lang-btn" onclick="openSafe()">üá©üá™ DE: EINTRITT</div>
            <div class="lang-btn" onclick="openSafe()">üá´üá∑ FR: ENTRER</div>
            <div class="lang-btn" onclick="openSafe()">üáÆüáπ IT: ENTRARE</div>
            <div class="lang-btn" onclick="openSafe()">üá∫üá¶ UA: –£–í–Ü–ô–¢–ò</div>
            <div class="lang-btn" onclick="openSafe()">üá¨üáß EN: ENTER</div>
        </div>
    </div>
</div>

<div id="game-room">
    <div class="table-light"></div>
    <div id="velvet-table">
        <div id="deck-zone"></div>
    </div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.ready(); tg.expand();

    let audioCtx = null;
    function initAudio() { if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
    
    function playSound(f, d, t, v) {
        initAudio();
        const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
        o.type = t; o.frequency.setValueAtTime(f, audioCtx.currentTime);
        g.gain.setValueAtTime(v, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + d);
        o.connect(g); g.connect(audioCtx.destination);
        o.start(); o.stop(audioCtx.currentTime + d);
    }

    // –¢–ê –°–ê–ú–ê–Ø –ú–ê–ì–ò–Ø –û–¢–ö–†–´–¢–ò–Ø
    function openSafe() {
        playSound(400, 0.5, 'triangle', 0.2); // –ó–≤—É–∫ –∑–∞—Ç–≤–æ—Ä–∞
        document.getElementById('brand-layer').classList.add('opened');
        
        // –ß–µ—Ä–µ–∑ 1.2 —Å–µ–∫, –∫–æ–≥–¥–∞ –¥–≤–µ—Ä–∏ —Ä–∞–∑—ä–µ—Ö–∞–ª–∏—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–æ–ª
        setTimeout(() => {
            const room = document.getElementById('game-room');
            room.style.display = 'block';
            setTimeout(() => { 
                room.style.opacity = '1'; 
                startDealing(); // –ù–∞—á–∏–Ω–∞–µ–º –º–∞–≥–∏—é –∫–∞—Ä—Ç
            }, 100);
        }, 1200);
    }

    function startDealing() {
        const zone = document.getElementById('deck-zone');
        for(let i=0; i<36; i++) {
            const c = document.createElement('div');
            c.className = 'card-monolith';
            c.style.top = Math.random()*50+20+'%'; 
            c.style.left = Math.random()*60+20+'%';
            c.style.transform = `rotate(${Math.random()*720}deg)`;
            zone.appendChild(c);
            
            setTimeout(() => {
                c.classList.add('deck-stacked');
                c.style.zIndex = i;
                if(i%5 === 0) playSound(1200, 0.05, 'sine', 0.02);
            }, 500 + (i*40));
        }
    }
</script>
</body>
</html>
