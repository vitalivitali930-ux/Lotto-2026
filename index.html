<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lotto - –î–≤–∏–∂–æ–∫ VCHF</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --gold: #D4AF37; --carbon: #0a0a0a; }
        body { background: #000 url('bg.png') no-repeat center center fixed; background-size: cover; color: var(--gold); font-family: -apple-system, sans-serif; text-align: center; margin: 0; overflow: hidden; }
        
        /* –°—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        #chance-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 10000; flex-direction: column; justify-content: center; align-items: center; padding: 20px; }
        .modal-card { border: 1px solid var(--gold); padding: 30px; border-radius: 20px; background: #111; }

        /* –Ø–∑—ã–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .lang-bar { padding: 10px; display: flex; justify-content: flex-end; gap: 10px; cursor: pointer; }
        .lang-flag { font-size: 20px; filter: grayscale(0.5); transition: 0.3s; }
        .lang-flag.active { filter: grayscale(0); transform: scale(1.2); }

        /* –ë–∞–ª–∞–Ω—Å */
        .balance-row { display: flex; justify-content: center; gap: 15px; margin: 20px 0; }
        .stat { border: 1px solid var(--gold); border-radius: 12px; padding: 12px; min-width: 120px; background: rgba(20,20,20,0.8); }
        .stat-label { font-size: 9px; opacity: 0.6; text-transform: uppercase; }
        .stat-val { font-size: 22px; font-weight: bold; }

        /* –°–µ—Ç–∫–∞ */
        .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; padding: 0 20px; max-width: 400px; margin: 0 auto; }
        .cell { background: rgba(40,40,40,0.7); border: 1px solid #333; padding: 15px 0; border-radius: 8px; font-weight: bold; }
        .cell.selected { background: var(--gold); color: #000; box-shadow: 0 0 10px var(--gold); }
        .cell.disabled { opacity: 0.5; cursor: not-allowed; }

        .btn-main { background: var(--gold); color: #000; border: none; width: 85%; padding: 20px; border-radius: 15px; font-size: 18px; font-weight: bold; margin-top: 25px; }
    </style>
</head>
<body>

<div id="chance-modal">
    <div class="modal-card">
        <div id="chance-title" style="font-size: 20px; font-weight: bold;"></div>
        <div id="chance-text" style="margin: 20px 0; font-size: 16px;"></div>
        <span style="font-size: 50px;">üò¢</span>
        <button class="btn-main" style="width:100%" onclick="location.reload()">VERSTANDEN</button>
    </div>
</div>

<div class="lang-bar">
    <span class="lang-flag" onclick="setLang('ru')">üá∑üá∫</span>
    <span class="lang-flag" onclick="setLang('de')">üá©üá™</span>
    <span class="lang-flag" onclick="setLang('fr')">üá´üá∑</span>
    <span class="lang-flag" onclick="setLang('it')">üáÆüáπ</span>
</div>

<div class="balance-row">
    <div class="stat">
        <div class="stat-label">VIRTUAL VCHF</div>
        <div id="bal" class="stat-val">100.00</div>
    </div>
    <div class="stat">
        <div class="stat-label">LOYALTY</div>
        <div id="loy" class="stat-val">+0</div>
    </div>
</div>

<div class="grid" id="grid"></div>
<button class="btn-main" id="confirm-btn" onclick="checkWin()">TICKET BEST√ÑTIGEN</button>

<script>
    const tg = window.Telegram.WebApp;
    let balance = 100.00;
    let loyalty = 0;
    let selectedNums = [];
    let currentLang = 'de';

    const translations = {
        ru: { title: "–£ –¢–ï–ë–Ø –ë–´–õ –†–ï–ê–õ–¨–ù–´–ô –®–ê–ù–°", btn: "–ü–û–î–¢–í–ï–†–î–ò–¢–¨", items: ["–æ–±–Ω–æ–≤–∏—Ç—å –≥–∞—Ä–¥–µ—Ä–æ–±", "—É–ª–µ—Ç–µ—Ç—å –≤ –æ—Ç–ø—É—Å–∫", "–∫—É–ø–∏—Ç—å –Ω–æ–≤—É—é –º–∞—à–∏–Ω—É", "–±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å"] },
        de: { title: "DU HATTEST EINE REALISTISCHE CHANCE", btn: "BEST√ÑTIGEN", items: ["Garderobe erneuern", "Traumurlaub machen", "neues Auto kaufen", "nie –±–æ–ª—å—à–µ arbeiten"] }
    };

    function setLang(lang) {
        currentLang = lang;
        document.getElementById('confirm-btn').innerText = translations[lang]?.btn || "BEST√ÑTIGEN";
        tg.HapticFeedback.impactOccurred('medium');
    }

    const grid = document.getElementById('grid');
    for (let i = 1; i <= 42; i++) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.innerText = i;
        cell.onclick = () => {
            if (selectedNums.includes(i)) {
                selectedNums = selectedNums.filter(n => n !== i);
                cell.classList.remove('selected');
            } else if (selectedNums.length < 6) {
                selectedNums.push(i);
                cell.classList.add('selected');
                tg.HapticFeedback.impactOccurred('light');
            }
        };
        grid.appendChild(cell);
    }

    function checkWin() {
        if (selectedNums.length < 6) return alert("W√§hle 6 Zahlen!");
        
        loyalty += 10;
        document.getElementById('loy').innerText = `+${loyalty}`;
        
        const sum = Math.random() * 150000;
        let item = "";
        const langData = translations[currentLang] || translations['de'];
        
        if (sum < 1000) item = langData.items[0];
        else if (sum < 10000) item = langData.items[1];
        else if (sum < 100000) item = langData.items[2];
        else item = langData.items[3];

        document.getElementById('chance-title').innerText = langData.title;
        document.getElementById('chance-text').innerText = item;
        document.getElementById('chance-modal').style.display = 'flex';
        tg.HapticFeedback.notificationOccurred('error');
    }
</script>
</body>
</html>
