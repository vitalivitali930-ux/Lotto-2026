<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Entropy Zone | VCHF Monolith</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --cherry-velvet: radial-gradient(circle at center, #800020 0%, #050505 100%);
            --deep-black: #050505;
            --card-w: 65px;
            --card-h: 90px;
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: #000; overflow: hidden; font-family: 'JetBrains Mono', monospace; 
        }

        /* Стол в стиле Cherry Velvet */
        #entropy-table {
            position: relative; width: 100vw; height: 60vh;
            background: var(--cherry-velvet);
            display: flex; justify-content: center; align-items: center;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        #title-header {
            position: absolute; top: 20px; width: 100%; text-align: center;
            font-family: 'Orbitron', sans-serif; font-size: 20px; 
            letter-spacing: 8px; color: var(--gold); opacity: 0.7;
        }

        /* Стилизация карт в стиле Helvetia */
        .card-vchf {
            position: absolute; width: var(--card-w); height: var(--card-h);
            background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
            border: 1px solid var(--gold); border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Магнитные Сферы (Бутон) */
        #player-hand-container {
            position: absolute; bottom: 0; width: 100%; height: 40%;
            background: linear-gradient(to top, #000 80%, transparent);
            display: flex; flex-direction: column; justify-content: center;
            z-index: 100;
        }

        .suit-lane {
            height: 45px; width: 100%; display: flex; justify-content: center;
            align-items: center; position: relative; transition: 0.4s;
        }

        .suit-lane.active-lane {
            height: 110px; transform: scale(1.1) translateY(-15px);
            z-index: 500;
        }

        .hand-card {
            position: absolute; width: 55px; height: 80px;
            background: #fff; color: #000; border-radius: 4px;
            border: 1px solid var(--gold); display: flex; 
            flex-direction: column; justify-content: space-between;
            padding: 5px; font-weight: 700; font-family: 'Orbitron';
            box-shadow: -4px 0 8px rgba(0,0,0,0.6);
            transition: 0.3s;
        }

        .active-lane .hand-card { width: 65px; height: 95px; font-size: 18px; }

        /* Кнопка ГОТОВ из Helvetia */
        #ready-btn {
            position: absolute; bottom: 25px; right: 20px;
            padding: 12px 35px; background: #000; 
            border: 2px solid var(--gold); color: var(--gold);
            font-family: 'Orbitron'; font-size: 14px; font-weight: 900;
            border-radius: 5px; opacity: 0; transition: 1s;
            cursor: pointer; pointer-events: none;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }

        #ready-btn.visible { opacity: 1; pointer-events: auto; }
        #ready-btn:active { background: var(--gold); color: #000; }

        /* Декор: Логотип в центре */
        #center-logo {
            width: 80px; opacity: 0.3; filter: drop-shadow(0 0 10px var(--gold));
            pointer-events: none;
        }
    </style>
</head>
<body>

<div id="entropy-table">
    <div id="title-header">ENTROPY ZONE</div>
    <img src="1771489965074(1).png" id="center-logo">
    <div id="table-cards"></div>
</div>

<div id="player-hand-container">
    <div class="suit-lane" id="lane-0" onclick="toggleLane(0)"></div>
    <div class="suit-lane" id="lane-1" onclick="toggleLane(1)"></div>
    <div class="suit-lane" id="lane-2" onclick="toggleLane(2)"></div>
    <div class="suit-lane" id="lane-3" onclick="toggleLane(3)"></div>
</div>

<button id="ready-btn" onclick="startRitual()">ГОТОВ ✅</button>

<script>
/**
 * ENTROPY ZONE - Helvetia DNA Edition
 * Дизайн: Helvetia Lucky (Wanderer).
 * Логика: Spark Monolith.
 */

const suits = ['♠', '♣', '♥', '♦'];
const ranks = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
const rankWeight = { '6':6, '7':7, '8':8, '9':9, '10':10, 'J':11, 'Q':12, 'K':13, 'A':14 };

let deck = [];
let playerHand = [[], [], [], []];
let activeLaneIdx = null;

// Плавное появление кнопки как в твоем сценарии
setTimeout(() => {
    document.getElementById('ready-btn').classList.add('visible');
}, 2000);

function setupTable() {
    const container = document.getElementById('table-cards');
    suits.forEach(s => ranks.forEach(r => deck.push({suit: s, rank: r})));
    deck = deck.sort(() => Math.random() - 0.5);

    const radius = Math.min(window.innerWidth, window.innerHeight) * 0.28;
    deck.forEach((card, i) => {
        const c = document.createElement('div');
        c.className = 'card-vchf';
        const angle = (i * 10) * (Math.PI / 180);
        c.style.transform = `translate(${Math.cos(angle)*radius}px, ${Math.sin(angle)*radius}px) rotate(${i*10}deg)`;
        c.onclick = () => pickCard(i, c);
        container.appendChild(c);
    });
}

function pickCard(id, el) {
    const card = deck[id];
    let laneIdx = suits.indexOf(card.suit); // Упрощенно для теста дизайна
    playerHand[laneIdx].push(card);
    playerHand[laneIdx].sort((a,b) => rankWeight[a.rank] - rankWeight[b.rank]);
    el.style.opacity = '0';
    renderLanes();
}

function toggleLane(idx) {
    activeLaneIdx = (activeLaneIdx === idx) ? null : idx;
    renderLanes();
}

function renderLanes() {
    for (let i = 0; i < 4; i++) {
        const lane = document.getElementById(`lane-${i}`);
        lane.className = `suit-lane ${activeLaneIdx === i ? 'active-lane' : ''}`;
        lane.innerHTML = '';
        playerHand[i].forEach((card, idx) => {
            const cEl = document.createElement('div');
            cEl.className = 'hand-card';
            const color = (card.suit==='♥'||card.suit==='♦') ? '#e30a17' : '#000';
            cEl.innerHTML = `<div style="color:${color}">${card.rank}</div><div style="align-self:flex-end; color:${color}">${card.suit}</div>`;
            const step = activeLaneIdx === i ? 40 : 20;
            cEl.style.transform = `translateX(${(idx - (playerHand[i].length-1)/2)*step}px)`;
            lane.appendChild(cEl);
        });
    }
}

setupTable();
function startRitual() { /* Логика перехода */ }
</script>
</body>
</html>
