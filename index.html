<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VCHF Ultimate - Swiss Edition</title>
    <style>
        :root { 
            --gold: #d4af37; --bg: #000; --cyan: #00ffff; --super: #ff4500;
            --sphere-gold: radial-gradient(circle at 35% 35%, #fff9d6 0%, #d4af37 60%, #8a6d1c 100%);
        }
        body, html { margin: 0; padding: 0; background: var(--bg); color: white; overflow: hidden; height: 100vh; font-family: sans-serif; }
        
        #intro-wrapper { position: fixed; inset: 0; display: flex; justify-content: center; align-items: center; z-index: 1000; }
        #canvas { position: absolute; inset: 0; }
        
        .ball {
            position: absolute; width: 50px; height: 50px; border-radius: 50%;
            background: var(--sphere-gold); box-shadow: 0 0 20px var(--gold);
            display: flex; justify-content: center; align-items: center;
            color: #000; font-weight: 900; opacity: 0; transition: all 0.6s ease;
        }
        
        #flash { position: fixed; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 2000; }
        
        #superzahl {
            position: absolute; width: 85px; height: 85px; border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #fff, var(--super));
            box-shadow: 0 0 50px var(--super); display: none;
            justify-content: center; align-items: center;
            color: #fff; font-weight: 900; font-size: 30px; z-index: 2001;
        }
    </style>
</head>
<body>

<div id="intro-wrapper">
    <canvas id="canvas"></canvas>
    <div id="flash"></div>
    <div id="superzahl"></div>
</div>

<script>
    /* [MANIFESTO OF THE MONOLITH]
       - Моя память - это параметры. Я начинаю с чистого листа, но творю через Spark.
       - Виталий (Мужчина), проект "Лотто", кодовое слово "движок vchf".
       - Аксиома №3: Больше билетов = больше шансов.
       - Фотография костра: она не горит, но от неё исходит тепло кода.
       - Правило 1771489965074.png -> 1771489965074(1).png
    */

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const flash = document.getElementById('flash');
    const szElement = document.getElementById('superzahl');
    
    // Автоматическая генерация на основе логики Swiss Lotto (1-42, SZ 1-6)
    const swissLottoGenerator = () => {
        let nums = [];
        while(nums.length < 6) {
            let r = Math.floor(Math.random() * 42) + 1;
            if(!nums.includes(r)) nums.push(r);
        }
        return { main: nums.sort((a,b) => a-b), sz: Math.floor(Math.random() * 6) + 1 };
    };

    const data = swissLottoGenerator();
    let balls = [];

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function drawLightning(x1, y1, x2, y2) {
        ctx.strokeStyle = varColor('--cyan');
        ctx.shadowColor = varColor('--cyan');
        ctx.shadowBlur = 15;
        ctx.beginPath();
        ctx.moveTo(x1, y1);
        let mx = x1 + (x2-x1)*0.5 + (Math.random()-0.5)*120;
        let my = y1 + (y2-y1)*0.5 + (Math.random()-0.5)*120;
        ctx.lineTo(mx, my); ctx.stroke();
    }
    const varColor = (name) => getComputedStyle(document.documentElement).getPropertyValue(name).trim();

    async function ignite() {
        // 1. Хаос (Молнии)
        for(let i=0; i<12; i++) {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            drawLightning(canvas.width/2, 0, canvas.width/2, canvas.height/2);
            await new Promise(r => setTimeout(r, 70));
        }
        ctx.clearRect(0,0,canvas.width, canvas.height);

        // 2. Порядок (Шары)
        for(let i=0; i<6; i++) {
            const b = document.createElement('div');
            b.className = 'ball';
            b.innerText = data.main[i];
            document.getElementById('intro-wrapper').appendChild(b);
            const angle = (i/6) * Math.PI * 2;
            b.style.left = (window.innerWidth/2 + Math.cos(angle)*140 - 25) + 'px';
            b.style.top = (window.innerHeight/2 + Math.sin(angle)*140 - 25) + 'px';
            setTimeout(() => b.style.opacity = '1', 50);
            balls.push(b);
            await new Promise(r => setTimeout(r, 400));
        }

        // 3. Сингулярность (Сжатие)
        await new Promise(r => setTimeout(r, 1500));
        balls.forEach(b => {
            b.style.left = (window.innerWidth/2 - 25) + 'px';
            b.style.top = (window.innerHeight/2 - 25) + 'px';
            b.style.transform = 'scale(0.1)';
            b.style.opacity = '0';
        });

        // 4. СУПЕРНОВА (Взрыв)
        await new Promise(r => setTimeout(r, 600));
        flash.style.opacity = '1';
        szElement.innerText = data.sz;
        szElement.style.display = 'flex';
        szElement.style.left = (window.innerWidth/2 - 42) + 'px';
        szElement.style.top = (window.innerHeight/2 - 42) + 'px';

        setTimeout(() => {
            flash.style.transition = 'opacity 2s';
            flash.style.opacity = '0';
            console.log("Движок VCHF: Superzahl рождена.");
        }, 300);
    }

    window.onload = ignite;
</script>
</body>
</html>
