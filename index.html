<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Swiss Lotto - VCHF Engine 3.1</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --main-color: #d4af37; 
            --main-glow: rgba(212, 175, 55, 0.4);
            --neon-blue: #00f3ff; 
            --neon-orange: #ff8c00;
            --bg-deep: #000407;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        } 

        body, html { 
            background: var(--bg-deep); color: #fff; 
            font-family: 'Orbitron', sans-serif; margin: 0; padding: 0;
            height: 100vh; width: 100vw; overflow: hidden;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }

        /* –ü–ê–õ–ò–¢–†–ê –ò–ó –¢–í–û–ï–ì–û –í–ò–î–ï–û */
        body.theme-cherry { --main-color: #C511A4; --main-glow: rgba(197, 17, 164, 0.4); }
        body.theme-silver { --main-color: #c0c0c0; --main-glow: rgba(192, 192, 192, 0.4); }
        body.theme-lime { --main-color: #32CD32; --main-glow: rgba(50, 205, 50, 0.4); }
        body.theme-cyan { --main-color: #00ffff; --main-glow: rgba(0, 255, 255, 0.4); }
        body.theme-gold { --main-color: #d4af37; --main-glow: rgba(212, 175, 55, 0.4); }

        /* INTRO: –ë–ê–†–ê–ë–ê–ù –õ–û–¢–û */
        #monolith-intro {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .drum-container {
            width: 200px; height: 200px; border: 2px solid var(--main-color);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            position: relative; animation: drum-spin 3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 0 0 30px var(--main-glow);
        }
        @keyframes drum-spin { 0% { transform: rotate(0deg) scale(0); } 100% { transform: rotate(1080deg) scale(1); } }
        
        .spark-core {
            width: 10px; height: 10px; background: #fff; border-radius: 50%;
            box-shadow: 0 0 20px #fff, 0 0 40px var(--neon-blue);
        }
        .auth-text {
            margin-top: 30px; font-size: 10px; letter-spacing: 4px; color: var(--main-color);
            opacity: 0; animation: fade-in 1s 2.5s forwards; text-transform: uppercase;
        }
        @keyframes fade-in { to { opacity: 1; } }

        /* –ò–ù–¢–ï–†–§–ï–ô–° */
        #app-content { display: none; opacity: 0; transition: 1s ease; height: 100vh; flex-direction: column; }
        .page { flex: 1; overflow-y: auto; padding-bottom: 90px; display: none; }
        .page.active { display: block; }

        .header-section { padding: 15px; background: rgba(0,0,0,0.7); border-bottom: 1px solid var(--glass-border); }
        
        /* –ö–û–®–ï–õ–¨–ö–ò –° –ü–û–î–°–í–ï–¢–ö–û–ô –ò–ó –í–ò–î–ï–û */
        .balance-container { display: flex; gap: 10px; margin-top: 15px; }
        .bal-card { 
            flex: 1; background: var(--glass); border: 1px solid rgba(255,255,255,0.05);
            border-radius: 12px; padding: 12px; transition: 0.4s; text-align: left;
        }
        .bal-card.active-wallet { 
            border-color: var(--main-color); 
            background: rgba(212,175,55,0.1); 
            box-shadow: inset 0 0 15px var(--main-glow);
        }
        .bal-val { font-size: 18px; font-weight: 900; }

        /* –°–§–ï–†–´-–ê–†–¢–ï–§–ê–ö–¢–´ */
        .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; padding: 15px; }
        .cell { 
            aspect-ratio: 1; border-radius: 50%; 
            background: radial-gradient(circle at 30% 30%, #444, #000);
            display: flex; align-items: center; justify-content: center;
            font-size: 16px; font-weight: 700; color: rgba(255,255,255,0.3);
            border: 1px solid rgba(255,255,255,0.1); transition: 0.3s;
        }
        .cell.selected { 
            background: radial-gradient(circle at 30% 30%, var(--main-color), #000);
            color: #fff; transform: scale(1.15); border: 2px solid #fff;
            box-shadow: 0 0 20px var(--main-glow);
        }
        /* –°–º–∞—Ä—Ç-—Ñ–∏–ª—å—Ç—Ä—ã */
        .cell.is-hot { border: 2px solid var(--neon-orange); box-shadow: 0 0 10px var(--neon-orange); }
        .cell.is-cold { border: 2px solid #1e90ff; box-shadow: 0 0 10px #1e90ff; }

        .nav-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 75px;
            background: rgba(0,0,0,0.9); display: flex; justify-content: space-around;
            align-items: center; border-top: 1px solid var(--glass-border);
        }
        .nav-item { opacity: 0.4; text-align: center; color: #fff; }
        .nav-item.active { opacity: 1; color: var(--main-color); }

        .btn-main {
            width: 90%; margin: 10px auto; padding: 18px; border-radius: 12px;
            background: var(--main-color); color: #000; font-weight: 900;
            border: none; clip-path: polygon(5% 0, 100% 0, 95% 100%, 0 100%);
        }
    </style>
</head>
<body class="theme-gold">

<div id="monolith-intro">
    <div class="drum-container">
        <div class="spark-core"></div>
    </div>
    <div class="auth-text" id="auth-status">Guest Authenticated</div>
</div>

<div id="app-content">
    <div class="header-section">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="color: var(--main-color); font-weight: 900; letter-spacing: 2px; font-size: 14px;">VCHF ENGINE 3.1</div>
            <div onclick="document.querySelector('.theme-panel').classList.toggle('open')" style="cursor:pointer; font-size: 20px;">üé®</div>
        </div>
        
        <div class="balance-container">
            <div class="bal-card active-wallet" id="card-vchf" onclick="switchCurrency('VCHF')">
                <div style="font-size:8px; opacity:0.6;">VIRTUAL</div>
                <div class="bal-val" id="vchf-val">100.00</div>
                <div style="font-size:10px; font-weight:700;">VCHF</div>
            </div>
            <div class="bal-card" id="card-chf" onclick="switchCurrency('CHF')">
                <div style="font-size:8px; opacity:0.6;">REAL ACCOUNT</div>
                <div class="bal-val" id="chf-val">0.00</div>
                <div style="font-size:10px; font-weight:700;">CHF</div>
            </div>
        </div>
    </div>

    <style>
        .theme-panel { position: fixed; top: 80px; right: 15px; background: rgba(0,0,0,0.9); border: 1px solid var(--glass-border); padding: 12px; border-radius: 20px; display: flex; flex-direction: column; gap: 10px; transform: translateX(120px); transition: 0.3s; z-index: 2000; }
        .theme-panel.open { transform: translateX(0); }
        .dot { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #fff; cursor: pointer; }
    </style>
    <div class="theme-panel">
        <div class="dot" style="background: #d4af37;" onclick="setTheme('gold')"></div>
        <div class="dot" style="background: #32CD32;" onclick="setTheme('lime')"></div>
        <div class="dot" style="background: #00ffff;" onclick="setTheme('cyan')"></div>
        <div class="dot" style="background: #C511A4;" onclick="setTheme('cherry')"></div>
        <div class="dot" style="background: #c0c0c0;" onclick="setTheme('silver')"></div>
    </div>

    <div id="page-play" class="page active">
        <div id="spark-voice-output" style="height: 25px; margin: 10px 0; color: var(--neon-blue); font-size: 11px; font-style: italic; text-align: center; text-shadow: 0 0 5px var(--neon-blue);">...</div>
        
        <div id="dynamic-langs" style="display: flex; justify-content: center; gap: 10px; margin-bottom: 15px;"></div>

        <div style="display: flex; justify-content: center; gap: 8px; margin-bottom: 15px;">
            <button onclick="togglePick('hot')" id="btn-hot" style="background:none; border:1px solid var(--neon-orange); color:var(--neon-orange); padding:6px 12px; border-radius:15px; font-size:10px;">üî• HOT</button>
            <button onclick="togglePick('cold')" id="btn-cold" style="background:none; border:1px solid #1e90ff; color:#1e90ff; padding:6px 12px; border-radius:15px; font-size:10px;">‚ùÑÔ∏è COLD</button>
            <button onclick="randomFill()" style="background:none; border:1px solid #fff; color:#fff; padding:6px 12px; border-radius:15px; font-size:10px;">üé≤ RANDOM</button>
        </div>

        <div class="grid" id="main-grid"></div>
        
        <div id="l-super" style="text-align:center; font-size:11px; margin:15px 0 5px; color:var(--main-color); font-weight:900;">SUPERZAHL</div>
        <div id="s-grid" style="display: flex; justify-content: center; gap: 8px; padding-bottom: 15px;"></div>

        <div style="background: rgba(255,255,255,0.03); margin: 10px 15px; padding: 15px; border-radius: 15px; border: 1px solid var(--glass-border); text-align: center;">
            <div style="margin-bottom: 10px;">
                <span id="l-total" style="font-size:12px; opacity:0.6;">Total:</span>
                <span id="display-total" style="font-size:22px; font-weight:900; color:var(--main-color);">2.50 VCHF</span>
            </div>
            <button class="btn-main" id="main-btn" onclick="runEngine()" style="width:100%; margin:0;">CONFIRM TICKET</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="showPage('play', this)"><span>üé≤</span><label id="n-game">Game</label></div>
        <div class="nav-item" onclick="showPage('tickets', this)"><span>üéüÔ∏è</span><label id="n-tickets">Tickets</label></div>
        <div class="nav-item" onclick="showPage('stats', this)"><span>üìä</span><label id="n-stats">Stats</label></div>
    </div>
</div>
<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // –°–û–°–¢–û–Ø–ù–ò–ï –î–í–ò–ñ–ö–ê
    let selected = [], superNum = null, currentLang = 'ru', currentCurrency = 'VCHF';
    let activeSmartTool = null;
    let isLangExpanded = false;

    const dict = {
        ru: { btn: "–ü–û–î–¢–í–ï–†–î–ò–¢–¨", super: "–ë–û–ù–£–°–ù–û–ï –ß–ò–°–õ–û", total: "–ò—Ç–æ–≥–æ", game: "–ò–ì–†–ê", tickets: "–ë–ò–õ–ï–¢–´", stats: "–°–¢–ê–¢–°", voice: "–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞. –£–¥–∞—á–∏, –≥–æ—Å—Ç—å.", auth: "Guest Authenticated" },
        ua: { btn: "–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò", super: "–ë–û–ù–£–°–ù–ï –ß–ò–°–õ–û", total: "–†–∞–∑–æ–º", game: "–ì–†–ê", tickets: "–ö–í–ò–¢–ö–ò", stats: "–°–¢–ê–¢–°", voice: "–°–∏—Å—Ç–µ–º—É –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ. –£—Å–ø—ñ—Ö—É, –≥–æ—Å—Ç—å.", auth: "Guest Authenticated" },
        de: { btn: "BEST√ÑTIGEN", super: "SUPERZAHL", total: "Gesamt", game: "SPIEL", tickets: "TICKETS", stats: "STATS", voice: "System aktiv. Viel Gl√ºck, Gast.", auth: "Guest Authenticated" },
        en: { btn: "CONFIRM", super: "SUPER NUMBER", total: "Total", game: "GAME", tickets: "TICKETS", stats: "STATS", voice: "System active. Good luck, guest.", auth: "Guest Authenticated" },
        fr: { btn: "CONFIRMER", super: "SUPER NOMBRE", total: "Total", game: "JEU", tickets: "BILLETS", stats: "STATS", voice: "Syst√®me activ√©. Bonne chance.", auth: "Guest Authenticated" },
        it: { btn: "CONFERMARE", super: "SUPER NUMERO", total: "Totale", game: "GIOCO", tickets: "BIGLIETTI", stats: "STATS", voice: "Sistema attivo. Buona fortuna.", auth: "Guest Authenticated" }
    };

    const langIcons = { ru: 'üá∑üá∫', en: 'üá∫üá∏', de: 'üá©üá™', fr: 'üá´üá∑', it: 'üáÆüáπ', ua: 'üá∫üá¶' };

    // –£–ü–†–ê–í–õ–ï–ù–ò–ï –Ø–ó–´–ö–ê–ú–ò (–°–í–û–†–ê–ß–ò–í–ê–ù–ò–ï)
    function renderLangPanel() {
        const container = document.getElementById('dynamic-langs');
        container.innerHTML = '';
        
        if (!isLangExpanded) {
            const btn = document.createElement('span');
            btn.style.cssText = "font-size: 24px; cursor: pointer; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2));";
            btn.innerHTML = langIcons[currentLang];
            btn.onclick = () => { isLangExpanded = true; renderLangPanel(); };
            container.appendChild(btn);
        } else {
            Object.keys(langIcons).forEach(l => {
                const btn = document.createElement('span');
                btn.style.cssText = "font-size: 24px; cursor: pointer; transition: 0.2s;";
                btn.innerHTML = langIcons[l];
                btn.onclick = () => { 
                    currentLang = l; 
                    isLangExpanded = false; 
                    updateInterface(); 
                };
                container.appendChild(btn);
            });
        }
    }

    function updateInterface() {
        const d = dict[currentLang];
        document.getElementById('main-btn').innerText = d.btn;
        document.getElementById('l-super').innerText = d.super;
        document.getElementById('l-total').innerText = d.total;
        document.getElementById('n-game').innerText = d.game;
        document.getElementById('n-tickets').innerText = d.tickets;
        document.getElementById('n-stats').innerText = d.stats;
        document.getElementById('spark-voice-output').innerText = d.voice;
        renderLangPanel();
    }

    // –õ–û–ì–ò–ö–ê –ö–û–®–ï–õ–¨–ö–û–í
    function switchCurrency(c) {
        currentCurrency = c;
        document.querySelectorAll('.bal-card').forEach(card => card.classList.remove('active-wallet'));
        document.getElementById(`card-${c.toLowerCase()}`).classList.add('active-wallet');
        document.getElementById('display-total').innerText = `2.50 ${c}`;
        tg.HapticFeedback.impactOccurred('light');
    }

    // –°–ï–¢–ö–ê –ò –®–ê–†–´
    function refreshGrid() {
        const grid = document.getElementById('main-grid');
        grid.innerHTML = '';
        for (let i = 1; i <= 42; i++) {
            const c = document.createElement('div');
            c.className = 'cell';
            c.innerText = i;
            if (selected.includes(i)) c.classList.add('selected');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –≥–æ—Ä—è—á–∏—Ö —á–∏—Å–µ–ª –¥–ª—è —Ç–µ—Å—Ç–∞ –¥–∏–∑–∞–π–Ω–∞
            if (activeSmartTool === 'hot' && [5, 12, 28, 33, 41].includes(i)) c.classList.add('is-hot');
            if (activeSmartTool === 'cold' && [1, 10, 19, 22].includes(i)) c.classList.add('is-cold');

            c.onclick = () => {
                if (selected.includes(i)) selected = selected.filter(n => n !== i);
                else if (selected.length < 6) {
                    selected.push(i);
                    tg.HapticFeedback.impactOccurred('medium');
                }
                refreshGrid();
            };
            grid.appendChild(c);
        }
    }

    function togglePick(type) {
        activeSmartTool = (activeSmartTool === type) ? null : type;
        refreshGrid();
    }

    function randomFill() {
        selected = [];
        while(selected.length < 6) {
            let r = Math.floor(Math.random() * 42) + 1;
            if(!selected.includes(r)) selected.push(r);
        }
        superNum = Math.floor(Math.random() * 6) + 1;
        refreshGrid();
        renderSuperGrid();
        tg.HapticFeedback.notificationOccurred('success');
    }

    function renderSuperGrid() {
        const sgrid = document.getElementById('s-grid');
        sgrid.innerHTML = '';
        for (let i = 1; i <= 6; i++) {
            const sc = document.createElement('div');
            sc.className = 'cell';
            sc.style.width = '40px';
            sc.innerText = i;
            if (superNum === i) sc.classList.add('selected');
            sc.onclick = () => { 
                superNum = i; 
                renderSuperGrid(); 
                tg.HapticFeedback.impactOccurred('light');
            };
            sgrid.appendChild(sc);
        }
    }

    // –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´
    window.onload = () => {
        updateInterface();
        refreshGrid();
        renderSuperGrid();

        // –ê–Ω–∏–º–∞—Ü–∏—è Intro
        setTimeout(() => {
            const intro = document.getElementById('monolith-intro');
            intro.style.transition = "1s ease";
            intro.style.opacity = "0";
            setTimeout(() => {
                intro.remove();
                const app = document.getElementById('app-content');
                app.style.display = "flex";
                setTimeout(() => app.style.opacity = "1", 50);
            }, 1000);
        }, 3500);
    };

    function setTheme(t) { document.body.className = 'theme-' + t; }
    function showPage(p, el) {
        document.querySelectorAll('.page').forEach(pg => pg.classList.remove('active'));
        document.getElementById('page-' + p).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(ni => ni.classList.remove('active'));
        el.classList.add('active');
    }
    function runEngine() { 
        if(selected.length === 6 && superNum) tg.showAlert("TICKET CONFIRMED!");
        else tg.showAlert("Please select 6 numbers and 1 Superzahl");
    }
</script>
</body>
</html>
