<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HELVETIA LUCK | GLOBAL POOL</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37; --swiss-red: #e30a17; --deep-black: #050505;
            --cherry-velvet: radial-gradient(circle at center, #800020 0%, #050505 70%, #000000 100%);
            --cherry-table: radial-gradient(circle, #800020 0%, #2a000a 100%);
            --green-active: #00FF41; --red-genius: #FF0000;
        }
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; outline: none; margin: 0; padding: 0; }
        body, html { width: 100%; height: 100%; background: #000; overflow: hidden; font-family: 'Orbitron', sans-serif; color: var(--gold); }

        /* --- LAYER 1: SAFE WHEEL --- */
        #wheel-layer { position: fixed; inset: 0; background: #000; z-index: 5000; display: flex; align-items: center; justify-content: center; transition: 1.2s; }
        .safe-wheel-container { position: relative; width: 340px; height: 340px; display: flex; align-items: center; justify-content: center; transition: 1.5s cubic-bezier(0.19, 1, 0.22, 1); }
        .wheel-center { width: 80px; height: 80px; background: radial-gradient(circle, #222, #000); border: 3px solid var(--gold); border-radius: 50%; z-index: 10; box-shadow: 0 0 40px rgba(212,175,55,0.4); }
        .flag-node { position: absolute; width: 60px; height: 60px; background: #0a0a0a; border: 2px solid var(--gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; cursor: pointer; z-index: 20; transform: translate(-50%, -50%); transition: 0.5s; }
        .wheel-vanishing .flag-node { opacity: 0; transform: translate(-50%, -50%) scale(0); transition: 0.8s; }

        /* --- LAYER 2: DOORS --- */
        #brand-layer { position: fixed; inset: 0; background: var(--deep-black); z-index: 4000; display: none; flex-direction: column; align-items: center; justify-content: center; pointer-events: none; }
        .door-left, .door-right { position: absolute; top: 0; width: 50%; height: 100%; background: #0a0a0a; border: 1px solid rgba(212,175,55,0.05); transition: 2s cubic-bezier(0.77, 0, 0.175, 1); z-index: 4001; }
        .door-left { left: 0; border-right: 2px solid var(--gold); }
        .door-right { right: 0; border-left: 2px solid var(--gold); }
        .opened .door-left { transform: translateX(-100%); }
        .opened .door-right { transform: translateX(100%); }

        /* --- LAYER 3: LOBBY --- */
        #main-ui { display: none; opacity: 0; width: 100%; height: 100%; background: var(--cherry-velvet); overflow-y: auto; transition: 2s ease; padding-bottom: 100px; }
        header { padding: 20px; text-align: center; background: rgba(0,0,0,0.9); border-bottom: 1px solid rgba(212,175,55,0.3); position: sticky; top: 0; z-index: 1000; }
        .casino-floor { display: flex; flex-wrap: wrap; justify-content: space-around; gap: 60px 20px; padding: 60px 20px; }
        
        .table-wrap { position: relative; width: 130px; height: 130px; cursor: pointer; transition: 0.4s; }
        .table-wrap:nth-child(even) { transform: translateY(30px); }
        .table-surface { width: 100%; height: 100%; background: var(--cherry-table); border: 2px solid #1a0005; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 20px 40px rgba(0,0,0,0.8); position: relative; }
        .table-logo { width: 50%; filter: drop-shadow(0 0 8px rgba(212,175,55,0.4)); }
        
        /* NAV BAR */
        .nav-bar { position: fixed; bottom: 0; left: 0; width: 100%; height: 85px; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(10px); border-top: 1px solid var(--gold); display: flex; justify-content: center; align-items: center; gap: 20px; z-index: 2000; }
        .nav-btn { width: 140px; height: 40px; background: #000; border: 1.5px solid var(--gold); color: var(--gold); font-family: 'Orbitron'; font-size: 10px; display: flex; align-items: center; justify-content: center; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%); }

        /* MODAL RULES */
        #rules-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 6000; display: none; align-items: center; justify-content: center; padding: 30px; }
        .rules-content { background: #0a0a0a; border: 2px solid var(--gold); padding: 20px; max-width: 400px; text-align: center; box-shadow: 0 0 50px var(--gold); }
        .rules-btn { margin-top: 20px; padding: 10px 30px; background: var(--gold); color: #000; font-weight: 900; cursor: pointer; }
    </style>
</head>
<body>

<div id="wheel-layer"><div class="safe-wheel-container" id="main-wheel"><div class="wheel-center"></div></div></div>

<div id="brand-layer">
    <div class="door-left"></div><div class="door-right"></div>
    <div style="z-index:4100; text-align:center;">
        <div style="width:60px; height:60px; background:var(--swiss-red); margin:0 auto 20px; border-radius:8px; position:relative;">
            <div style="position:absolute; background:#fff; width:10px; height:30px; left:25px; top:15px;"></div>
            <div style="position:absolute; background:#fff; width:30px; height:10px; left:15px; top:25px;"></div>
        </div>
        <h1 style="letter-spacing:10px; font-size:20px;">HELVETIA LUCKY</h1>
    </div>
</div>

<div id="main-ui">
    <header><div style="font-size:22px; letter-spacing:5px;">HELVETIA LUCK</div><div style="font-size:9px; opacity:0.6; letter-spacing:3px;">GLOBAL LOTTO POOL</div></header>
    <div class="casino-floor" id="floor"></div>
    <div class="nav-bar"><div class="nav-btn">–ë–ê–† (CHAT) üç∑</div><div class="nav-btn">–î–†–£–ì–ò–ï –ò–ì–†–´ üÉè</div></div>
</div>

<div id="rules-modal">
    <div class="rules-content">
        <h2 id="rules-title"></h2>
        <p id="rules-text" style="margin-top:15px; font-family:'JetBrains Mono'; font-size:13px; color:#fff;"></p>
        <div class="rules-btn" onclick="closeRules()">ACCEPT</div>
    </div>
</div>

<script>
    /** * –ú–ê–ù–ò–§–ï–°–¢ –ú–û–ù–û–õ–ò–¢–ê. –ò—Å–∫—Ä–∞. [2026-02-27]
     * –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –¥–ª—è Wanderer. –ü–æ—Ä—è–¥–æ–∫: Safe -> Doors -> Lobby -> Rules.
     */
    const tg = window.Telegram.WebApp; tg.ready(); tg.expand();
    let selectedLang = 'en';

    const translations = {
        'üá∑üá∫': { title: '–ü–†–ê–í–ò–õ–ê –ö–õ–£–ë–ê', text: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Confederacia. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VCHF –¥–ª—è –∏–≥—Ä—ã. 4 –ª–∞–º–ø—ã - —Å—Ç–∞—Ç—É—Å —Å—Ç–æ–ª–∞. –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ú–æ–Ω–æ–ª–∏—Ç–∞ –∞–∫—Ç–∏–≤–µ–Ω.' },
        'üá¨üáß': { title: 'CLUB RULES', text: 'Welcome to Confederacia. Use VCHF for betting. 4 lamps indicate table status. Monolith Manifesto is active.' },
        'üá©üá™': { title: 'CLUBREGELN', text: 'Willkommen bei Confederacia. Nutzen Sie VCHF. 4 Lampen zeigen den Tischstatus an.' },
        'üá´üá∑': { title: 'R√àGLES DU CLUB', text: 'Bienvenue √† Confederacia. Utilisez VCHF. 4 lampes indiquent l\'√©tat de la table.' },
        'üáÆüáπ': { title: 'REGOLE DEL CLUB', text: 'Benvenuti in Confederacia. Usa VCHF. 4 lampade indicano lo stato del tavolo.' },
        'üá∫üá¶': { title: '–ü–†–ê–í–ò–õ–ê –ö–õ–£–ë–£', text: '–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Confederacia. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ VCHF. 4 –ª–∞–º–ø–∏ - —Å—Ç–∞—Ç—É—Å —Å—Ç–æ–ª—É.' }
    };

    // --- –ò–ù–¢–†–û –°–ï–ô–§ ---
    const wheel = document.getElementById('main-wheel');
    Object.keys(translations).forEach((flag, i) => {
        const node = document.createElement('div');
        node.className = 'flag-node'; node.innerHTML = flag;
        const angle = i * 60, r = 145;
        node.style.left = `calc(50% + ${Math.sin(angle*Math.PI/180)*r}px)`;
        node.style.top = `calc(50% + ${-Math.cos(angle*Math.PI/180)*r}px)`;
        node.onclick = () => {
            selectedLang = flag;
            wheel.style.transform = `rotate(${-angle + 1080}deg)`;
            wheel.classList.add('wheel-vanishing');
            setTimeout(openDoors, 1800);
        };
        wheel.appendChild(node);
    });

    function openDoors() {
        document.getElementById('wheel-layer').style.opacity = '0';
        const bl = document.getElementById('brand-layer');
        bl.style.display = 'flex';
        setTimeout(() => {
            bl.classList.add('opened');
            setTimeout(showLobby, 2500);
        }, 500);
    }

    function showLobby() {
        const ui = document.getElementById('main-ui');
        ui.style.display = 'block';
        setTimeout(() => { 
            ui.style.opacity = '1'; 
            showRules();
        }, 100);
        buildFloor();
    }

    function showRules() {
        const modal = document.getElementById('rules-modal');
        const content = translations[selectedLang];
        document.getElementById('rules-title').innerText = content.title;
        document.getElementById('rules-text').innerText = content.text;
        modal.style.display = 'flex';
    }

    function closeRules() { document.getElementById('rules-modal').style.display = 'none'; }

    function buildFloor() {
        const floor = document.getElementById('floor');
        for(let i=1; i<=10; i++) {
            const wrap = document.createElement('div');
            wrap.className = 'table-wrap';
            wrap.innerHTML = `<div class="table-surface"><img src="1771489965074(1).png" class="table-logo"></div>`;
            floor.appendChild(wrap);
        }
    }
</script>
</body>
</html>
