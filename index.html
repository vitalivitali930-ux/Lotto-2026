<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lotto - –î–≤–∏–∂–æ–∫ VCHF</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { 
            --main-color: #d4af37; 
            --main-gradient: linear-gradient(145deg, #f9e27d, #d4af37);
            --cell-text: #d4af37; 
            --hot-color: #ff4500;
            --cold-color: #1e90ff;
        }

        body { 
            background: #000 url('1771489965074(1).png') no-repeat center center; 
            background-size: cover; color: #fff; 
            font-family: -apple-system, sans-serif; 
            text-align: center; margin: 0; overflow-x: hidden; 
        }

        /* –ò–Ω—Ç—Ä–æ-–∑–∞—Å—Ç–∞–≤–∫–∞ */
        #intro-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 20000; display: flex; justify-content: center; align-items: center; }
        .intro-img { position: absolute; width: 85%; opacity: 0; pointer-events: none; }
        .intro-img.active { animation: shakePop 0.7s ease-out forwards; }
        @keyframes shakePop { 0% { transform: scale(0.1); opacity: 0; } 50% { transform: scale(1.05); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }

        #app-content { display: none; opacity: 0; transition: 1s ease; padding-top: 15px; height: 100vh; overflow-y: auto; }
        
        .lang-panel { display: flex; justify-content: center; gap: 12px; margin-bottom: 15px; }
        .lang-btn { font-size: 24px; cursor: pointer; opacity: 0.3; transition: 0.3s; }
        .lang-btn.active-lang { opacity: 1; transform: scale(1.1); filter: drop-shadow(0 0 5px var(--main-color)); }

        .penthouse-header { border: 1px solid var(--main-color); border-radius: 12px; padding: 12px; margin: 0 15px 15px; background: rgba(0,0,0,0.8); box-shadow: 0 0 15px rgba(212, 175, 55, 0.2); }
        .rooms-tabs { display: flex; justify-content: space-around; margin: 0 15px 10px; padding: 8px; border-bottom: 1px solid var(--main-color); font-size: 9px; font-weight: bold; }

        .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; padding: 0 15px; max-width: 400px; margin: 0 auto; }
        .cell { background: transparent; border: none; padding: 12px 0; font-weight: bold; color: var(--cell-text); font-size: 20px; transition: 0.2s; cursor: pointer; border-radius: 50%; }
        .cell.selected { background: var(--main-gradient) !important; color: #000 !important; box-shadow: 0 0 15px var(--main-color); opacity: 1 !important; transform: scale(1.1); }
        .cell.shuffle { background: rgba(212, 175, 55, 0.4); transform: scale(1.1); }

        .smart-control-panel { background: rgba(0,0,0,0.85); margin: 20px 15px; padding: 15px; border-radius: 15px; border: 1px solid rgba(212, 175, 55, 0.3); }
        .stat-btn { padding: 8px 12px; border-radius: 8px; border: 1px solid var(--main-color); background: transparent; color: #fff; font-size: 10px; cursor: pointer; }
        .stat-btn.active-period { background: var(--main-color); color: #000; }
        
        .smart-pick-panel { display: flex; gap: 5px; margin-top: 12px; }
        .smart-btn { padding: 10px 5px; border-radius: 8px; border: 1px solid var(--main-color); background: #000; color: var(--main-color); font-size: 10px; flex: 1; font-weight: bold; cursor: pointer; }

        .super-cell { width: 40px; height: 40px; border: 2px solid var(--main-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--main-color); font-weight: bold; cursor: pointer; }
        .super-cell.selected { background: var(--main-gradient); color: #000; }

        .btn-main { width: 85%; padding: 20px; border-radius: 15px; background: var(--main-gradient); color: #000; font-weight: bold; font-size: 18px; margin: 20px 0 40px; border: none; cursor: pointer; }

        .theme-toggle { position: fixed; top: 15px; right: 15px; font-size: 26px; z-index: 1001; cursor: pointer; }
        .theme-panel { position: fixed; top: 60px; right: 15px; display: flex; flex-direction: column; gap: 10px; z-index: 1000; background: rgba(0,0,0,0.9); padding: 10px; border-radius: 20px; border: 1px solid var(--main-color); transition: 0.3s; transform: translateX(100px); }
        .theme-panel.open { transform: translateX(0); }
        .dot { width: 25px; height: 25px; border-radius: 50%; border: 2px solid #fff; cursor: pointer; }
    </style>
</head>
<body>

<div id="intro-container">
    <img src="Bild1.png" id="intro1" class="intro-img">
    <img src="Bild2.png" id="intro2" class="intro-img">
    <img src="Bild3.png" id="intro3" class="intro-img">
</div>

<div id="app-content">
    <div class="lang-panel">
        <span class="lang-btn" id="l-ru" onclick="setLang('ru')">üá∑üá∫</span>
        <span class="lang-btn" id="l-ua" onclick="setLang('ua')">üá∫üá¶</span>
        <span class="lang-btn" id="l-de" onclick="setLang('de')">üá©üá™</span>
        <span class="lang-btn" id="l-en" onclick="setLang('en')">üá¨üáß</span>
        <span class="lang-btn" id="l-fr" onclick="setLang('fr')">üá´üá∑</span>
    </div>

    <div class="penthouse-header">
        <div id="p-name" style="color:var(--main-color); font-weight:900;">–ü–ï–ù–¢–•–ê–£–° –£–î–ê–ß–ò</div>
        <div id="p-sub" style="font-size:10px;">–ì–¥–µ –∂–∏–≤—É—Ç —Ç–≤–æ–∏ –º–∏–ª–ª–∏–æ–Ω—ã</div>
    </div>

    <div class="rooms-tabs">
        <span id="t1" style="color:var(--main-color)">–°–ï–ô–§</span>
        <span id="t2">–ü–û–ì–†–ï–ë</span>
        <span id="t3">–°–ò–ì–ê–†–ù–ê–Ø</span>
    </div>

    <div class="grid" id="main-grid"></div>

    <div class="smart-control-panel">
        <div style="display: flex; justify-content: center; gap: 8px;">
            <button id="btn-m" class="stat-btn active-period" onclick="setPeriod('m')">–ú–ï–°–Ø–¶</button>
            <button id="btn-y" class="stat-btn" onclick="setPeriod('y')">–ì–û–î</button>
            <button id="btn-a" class="stat-btn" onclick="setPeriod('a')">–í–°–Å –í–†–ï–ú–Ø</button>
        </div>
        <div class="smart-pick-panel">
            <button class="smart-btn" ontouchstart="highlight('hot')" ontouchend="clearHighlight()">üî• HOT</button>
            <button class="smart-btn" onclick="pickSleepingGiant()" style="border-color: #1e90ff; color: #1e90ff;">üí§ GIANT</button>
            <button class="smart-btn" ontouchstart="highlight('cold')" ontouchend="clearHighlight()">‚ùÑÔ∏è COLD</button>
            <button class="smart-btn" onclick="smartPickRandom()">üé≤ RANDOM</button>
        </div>
    </div>

    <div id="l-super" style="color:var(--main-color); font-weight:bold; margin-bottom:10px; font-size: 14px;">–ë–û–ù–£–°–ù–û–ï –ß–ò–°–õ–û</div>
    <div style="display:flex; justify-content:center; gap:10px;" id="s-grid"></div>

    <button class="btn-main" id="main-btn" onclick="runEngine()">–ü–û–î–¢–í–ï–†–î–ò–¢–¨</button>
</div>

<div class="theme-toggle" onclick="document.querySelector('.theme-panel').classList.toggle('open')">üé®</div>
<div class="theme-panel">
    <div class="dot" style="background: #d4af37;" onclick="setTheme('gold')"></div>
    <div class="dot" style="background: #32CD32;" onclick="setTheme('lime')"></div>
    <div class="dot" style="background: #c0c0c0;" onclick="setTheme('silver')"></div>
    <div class="dot" style="background: #00ffff;" onclick="setTheme('cyan')"></div>
    <div class="dot" style="background: #C511A4;" onclick="setTheme('cherry')"></div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    let selected = [], superNum = null, currentLang = 'en', currentPeriod = 'm';

    const dict = {
        ru: { btn: "–ü–û–î–¢–í–ï–†–î–ò–¢–¨", super: "–ë–û–ù–£–°–ù–û–ï –ß–ò–°–õ–û", pN: "–ü–ï–ù–¢–•–ê–£–° –£–î–ê–ß–ò", pS: "–ì–¥–µ –∂–∏–≤—É—Ç –º–∏–ª–ª–∏–æ–Ω—ã", t1: "–°–ï–ô–§", t2: "–ü–û–ì–†–ï–ë", t3: "–°–ò–ì–ê–†–ù–ê–Ø", m: "–ú–ï–°–Ø–¶", y: "–ì–û–î", a: "–í–°–Å –í–†–ï–ú–Ø" },
        ua: { btn: "–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò", super: "–ë–û–ù–£–°–ù–ï –ß–ò–°–õ–û", pN: "–ü–ï–ù–¢–•–ê–£–° –£–î–ê–ß–Ü", pS: "–î–µ –∂–∏–≤—É—Ç—å –º—ñ–ª—å–π–æ–Ω–∏", t1: "–°–ï–ô–§", t2: "–õ–¨–û–•", t3: "–°–ò–ì–ê–†–ù–ê", m: "–ú–Ü–°–Ø–¶–¨", y: "–†–Ü–ö", a: "–í–ï–°–¨ –ß–ê–°" },
        de: { btn: "BEST√ÑTIGEN", super: "SUPERZAHL", pN: "GL√úCKS-PENTHOUSE", pS: "Wo Millionen leben", t1: "TRESOR", t2: "KELLER", t3: "ZIMMER", m: "MONAT", y: "JAHR", a: "ALLE" },
        en: { btn: "CONFIRM", super: "BONUS NUMBER", pN: "LUCKY PENTHOUSE", pS: "Where millions live", t1: "SAFE", t2: "CELLAR", t3: "CIGAR", m: "MONTH", y: "YEAR", a: "ALL" },
        fr: { btn: "CONFIRMER", super: "NOMBRE BONUS", pN: "PENTHOUSE CHANCE", pS: "Vos millions ici", t1: "COFFRE", t2: "CAVE", t3: "FUMOIR", m: "MOIS", y: "AN", a: "TOUT" },
        zh: { btn: "Á°ÆËÆ§ÊäïÊ≥®", super: "Âπ∏ËøêÁ∫¢ÁêÉ", pN: "ËøêÊ∞îÈòÅÊ•º", pS: "Áôæ‰∏áÂØåÁøÅÁöÑÊëáÁØÆ", t1: "‰øùÈô©ÁÆ±", t2: "ÈÖíÁ™ñ", t3: "Èõ™ËåÑÂÆ§", m: "Êú¨Êúà", y: "Êú¨Âπ¥", a: "ÂÖ®ÈÉ®" },
        it: { btn: "CONFERMA", super: "NUMERO BONUS", pN: "ATTICO FORTUNA", pS: "I tuoi milioni qui", t1: "CASSA", t2: "CANTINA", t3: "SALA", m: "MESE", y: "ANNO", a: "STORIA" },
        tr: { btn: "ONAYLA", super: "BONUS SAYI", pN: "≈ûANSLI PENTHOUSE", pS: "Milyonlarƒ±n adresi", t1: "KASA", t2: "MAHZEN", t3: "PURO", m: "AY", y: "YIL", a: "HEPSƒ∞" },
        pl: { btn: "POTWIERD≈π", super: "NUMER BONUS", pN: "APARTAMENT FARTO", pS: "Tu ≈ºyjƒÖ miliony", t1: "SEJF", t2: "PIWNICA", t3: "CYGARO", m: "MIESIƒÑC", y: "ROK", a: "CZAS" }
    };

    const stats = {
        m: { hot: [5, 12, 19, 33, 41], cold: [1, 7, 15, 28, 30] },
        y: { hot: [10, 18, 24, 32, 40], cold: [3, 9, 21, 35, 39] },
        a: { hot: [7, 17, 26, 38, 42], cold: [2, 11, 20, 31, 36] }
    };

    const sleepingData = [{n:3,d:145},{n:21,d:112},{n:35,d:98},{n:9,d:87},{n:2,d:76},{n:42,d:65}];

    function setTheme(t) {
        const themes = {
            gold:   { main: '#d4af37', grad: 'linear-gradient(145deg, #f9e27d, #d4af37)', text: '#d4af37' },
            lime:   { main: '#32CD32', grad: 'linear-gradient(145deg, #7FFF00, #32CD32)', text: '#32CD32' },
            silver: { main: '#c0c0c0', grad: 'linear-gradient(145deg, #ffffff, #c0c0c0)', text: '#c0c0c0' },
            cyan:   { main: '#00ffff', grad: 'linear-gradient(145deg, #e0ffff, #00ffff)', text: '#00ffff' },
            cherry: { main: '#C511A4', grad: 'linear-gradient(145deg, #FF1493, #C511A4)', text: '#d4af37' }
        };
        const theme = themes[t];
        document.documentElement.style.setProperty('--main-color', theme.main);
        document.documentElement.style.setProperty('--main-gradient', theme.grad);
        document.documentElement.style.setProperty('--cell-text', theme.text);
        
        document.querySelectorAll('.cell').forEach(c => {
            c.style.color = theme.text;
            c.style.textShadow = (t === 'cherry') ? '0 0 5px rgba(212, 175, 55, 0.5)' : 'none';
        });
        document.querySelector('.theme-panel').classList.remove('open');
        tg.HapticFeedback.impactOccurred('medium');
    }

    function initLanguageAuto() {
        try {
            const rawLang = (tg.initDataUnsafe?.user?.language_code || 'en').toLowerCase();
            const cleanLang = rawLang.match(/[a-z]+/)[0];
            setLang(dict.hasOwnProperty(cleanLang) ? cleanLang : 'en');
        } catch (e) { setLang('en'); }
    }

    function setLang(l) {
        currentLang = l; const d = dict[l];
        document.getElementById('main-btn').innerText = d.btn;
        document.getElementById('p-name').innerText = d.pN;
        document.getElementById('p-sub').innerText = d.pS;
        document.getElementById('t1').innerText = d.t1;
        document.getElementById('t2').innerText = d.t2;
        document.getElementById('t3').innerText = d.t3;
        document.getElementById('btn-m').innerText = d.m;
        document.getElementById('btn-y').innerText = d.y;
        document.getElementById('btn-a').innerText = d.a;
        document.getElementById('l-super').innerText = d.super;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active-lang'));
        if(document.getElementById('l-'+l)) document.getElementById('l-'+l).classList.add('active-lang');
    }

    function applyHeatmap() {
        const data = stats[currentPeriod];
        document.querySelectorAll('.cell').forEach(c => {
            c.style.background = "transparent"; c.style.boxShadow = "none"; c.style.opacity = "0.6";
        });
        data.hot.forEach(n => {
            const el = document.getElementById(`cell-${n}`);
            if(el) { el.style.opacity = "1"; el.style.background = "rgba(212, 175, 55, 0.2)"; el.style.boxShadow = "inset 0 0 8px var(--main-color)"; }
        });
        data.cold.forEach(n => {
            const el = document.getElementById(`cell-${n}`);
            if(el) { el.style.opacity = "0.8"; el.style.color = "var(--cold-color)"; }
        });
    }

    function setPeriod(p) {
        currentPeriod = p;
        document.querySelectorAll('.stat-btn').forEach(b => b.classList.remove('active-period'));
        document.getElementById('btn-'+p).classList.add('active-period');
        applyHeatmap(); tg.HapticFeedback.impactOccurred('medium');
    }

    function pickSleepingGiant() {
        selected = []; document.querySelectorAll('.cell').forEach(c => c.classList.remove('selected'));
        sleepingData.map(item => item.n).forEach((num, i) => {
            setTimeout(() => {
                const el = document.getElementById(`cell-${num}`);
                if(el) { selected.push(num); el.classList.add('selected'); tg.HapticFeedback.impactOccurred('medium'); }
            }, i * 250);
        });
        tg.showAlert(currentLang === 'ru' ? "–°–ø—è—â–∏–π –ì–∏–≥–∞–Ω—Ç –ø—Ä–æ—Å–Ω—É–ª—Å—è!" : "Sleeping Giant Awakened!");
    }

    const grid = document.getElementById('main-grid');
    for (let i = 1; i <= 42; i++) {
        const c = document.createElement('button'); c.className = 'cell'; c.id = `cell-${i}`; c.innerText = i;
        c.onclick = () => {
            if(selected.includes(i)) { selected = selected.filter(n => n !== i); c.classList.remove('selected'); }
            else if(selected.length < 6) { selected.push(i); c.classList.add('selected'); tg.HapticFeedback.impactOccurred('light'); }
        };
        grid.appendChild(c);
    }

    const sGrid = document.getElementById('s-grid');
    for(let i=1; i<=6; i++) {
        const sc = document.createElement('div'); sc.className = 'super-cell'; sc.id = `super-${i}`; sc.innerText = i;
        sc.onclick = () => {
            document.querySelectorAll('.super-cell').forEach(el => el.classList.remove('selected'));
            superNum = i; sc.classList.add('selected'); tg.HapticFeedback.impactOccurred('medium');
        };
        sGrid.appendChild(sc);
    }

    function highlight(t) {
        const d = stats[currentPeriod];
        (t === 'hot' ? d.hot : d.cold).forEach(n => {
            const el = document.getElementById(`cell-${n}`);
            if(el) el.style.color = (t === 'hot' ? 'var(--hot-color)' : 'var(--cold-color)');
        });
        tg.HapticFeedback.impactOccurred('light');
    }

    function clearHighlight() { applyHeatmap(); }

    function smartPickRandom() {
        selected = []; document.querySelectorAll('.cell').forEach(c => c.classList.remove('selected', 'shuffle'));
        let count = 0;
        const itv = setInterval(() => {
            document.querySelectorAll('.cell').forEach(c => c.classList.remove('shuffle'));
            for(let i=0; i<6; i++) {
                let r = Math.floor(Math.random()*42)+1;
                document.getElementById(`cell-${r}`).classList.add('shuffle');
            }
            if(++count > 12) {
                clearInterval(itv); document.querySelectorAll('.cell').forEach(c => c.classList.remove('shuffle'));
                while(selected.length < 6) {
                    let r = Math.floor(Math.random()*42)+1;
                    if(!selected.includes(r)) { selected.push(r); document.getElementById(`cell-${r}`).classList.add('selected'); }
                }
                tg.HapticFeedback.notificationOccurred('success');
            }
        }, 80);
    }

    window.onload = () => {
        initLanguageAuto();
        applyHeatmap();
        ['intro1', 'intro2', 'intro3'].forEach((id, i) => {
            setTimeout(() => document.getElementById(id).classList.add('active'), i * 2200);
            setTimeout(() => document.getElementById(id).style.opacity = '0', (i + 1) * 2100);
        });
        setTimeout(() => {
            document.getElementById('intro-container').style.display = 'none';
            document.getElementById('app-content').style.display = 'block';
            setTimeout(() => document.getElementById('app-content').style.opacity = '1', 50);
        }, 6800);
    };

    function runEngine() { 
        if(selected.length < 6 || !superNum) tg.showAlert("Incomplete!");
        else tg.showAlert(dict[currentLang].btn + ": " + selected.join(', ') + " | Bonus: " + superNum); 
    }
</script>
</body>
</html>
